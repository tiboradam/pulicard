
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Core Diagrams &#8212; UNICEF INVENT - documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Supplementary Diagrams" href="supplementary_diagrams.html" />
    <link rel="prev" title="Scenarios" href="scenarios.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="tex2jax_ignore mathjax_ignore section" id="core-diagrams">
<h1>Core Diagrams<a class="headerlink" href="#core-diagrams" title="Permalink to this headline">¶</a></h1>
<p>The architecture overview diagram is defined according to C4 model by the following viewpoints :</p>
<ul class="simple">
<li><p>The Level 1: A System Context diagram provides a starting point, showing how the software system in scope fits into the world around it;
*The Level 2: A Container diagram zooms into the software system in scope, showing the high-level technical building blocks;</p></li>
<li><p>The Level 3: A Component diagram zooms into an individual container, showing the components inside it;</p></li>
<li><p>The Level 4: A code (e.g. UML class) diagram can be used to zoom into an individual component, showing how that component is implemented.</p></li>
</ul>
<p>The Architecture Decisions (see <span class="xref std std-ref">myst_cheatsheet</span>) are evident on the design and software solutions chosen.</p>
<div class="section" id="system-context-diagram">
<h2>System Context diagram<a class="headerlink" href="#system-context-diagram" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#id1"><span class="std std-ref">System Context Diagram</span></a> shows the system context of the INVENT system. A system context diagram defines the boundary between the system or part of a system, and its environment, showing the actors and system entities that interact with it. The yellow parts show the actors and roles that interact with the system. The grey parts are external systems which the INVENT System shall interact with and are not described in the following sections.</p>
<div class="figure align-default" id="id1">
<a class="bg-primary mb-1 reference internal image-reference" href="_images/system_context_diagram.png"><img alt="system-context-diagram" class="bg-primary mb-1" src="_images/system_context_diagram.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text"><strong>INVENT System Context Diagram</strong></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="external-interfaces">
<h3>External Interfaces<a class="headerlink" href="#external-interfaces" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="invent-external-interfaces-table">
<caption><span class="caption-text">External Interfaces</span><a class="headerlink" href="#invent-external-interfaces-table" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Source</p></th>
<th class="head"><p>Target</p></th>
<th class="head"><p>Protocol / Standard</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>User</p></td>
<td><p>INVENT</p></td>
<td><p>HTTP</p></td>
<td><p>A user can navigate to INVENT application using a browser to view and add information about Innovation and Technology for Development initiatives</p></td>
</tr>
<tr class="row-odd"><td><p>Superuser</p></td>
<td><p>INVENT</p></td>
<td><p>HTTP</p></td>
<td><p>A superuser can have additional access to INVENT administration system and execute administration tasks</p></td>
</tr>
<tr class="row-even"><td><p>SSO identify Provider</p></td>
<td><p>INVENT</p></td>
<td><p>OAuth 2.0</p></td>
<td><p>Used to authenticate users</p></td>
</tr>
<tr class="row-odd"><td><p>Certificate Authority</p></td>
<td><p>INVENT</p></td>
<td><p>ACME</p></td>
<td><p>Let’s encrypt is used as Certification Authority that provides certificates for TLS encryption</p></td>
</tr>
<tr class="row-even"><td><p>Email Server</p></td>
<td><p>INVENT</p></td>
<td><p>SMTP</p></td>
<td><p>Used to send emails</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="container-diagram-for-invent-system">
<h2>Container diagram for INVENT System<a class="headerlink" href="#container-diagram-for-invent-system" title="Permalink to this headline">¶</a></h2>
<p>The following Container diagram zooms into the internals of the INVENT System, showing the high-level technical building blocks:</p>
<div class="figure align-default" id="system-container-diagram">
<a class="bg-primary mb-1 reference internal image-reference" href="_images/system_container_diagram.png"><img alt="system-context-diagram" class="bg-primary mb-1" src="_images/system_container_diagram.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text"><strong>INVENT System Container Diagram</strong></span><a class="headerlink" href="#system-container-diagram" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="internal-interfaces">
<h3>Internal Interfaces<a class="headerlink" href="#internal-interfaces" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="invent-internal-interfaces-table">
<caption><span class="caption-text">Internal Interfaces</span><a class="headerlink" href="#invent-internal-interfaces-table" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Source</p></th>
<th class="head"><p>Target</p></th>
<th class="head"><p>Protocol / Standard</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>User</p></td>
<td><p>INVENT</p></td>
<td><p>HTTP</p></td>
<td><p>A user can navigate to INVENT application using a browser to view and add information about Innovation and Technology for Development initiatives</p></td>
</tr>
<tr class="row-odd"><td><p>Frontend</p></td>
<td><p>Backend/Django</p></td>
<td><p>JSON/HTTP API calls</p></td>
<td><p>Frontend uses django api to fetch and save all the information for INVENT application. The API can be accessed as pOAS](http://localhost/api/docs/) or <a class="reference external" href="http://localhost/api/devdocs/">Redoc</a>. Screenshots are provided as <span class="xref std std-ref">annex_6</span>) and <span class="xref std std-ref">annex_7</span>) respectively.</p></td>
</tr>
<tr class="row-even"><td><p>Backend/Django</p></td>
<td><p>Database/PostgreSQL</p></td>
<td><p>TCP Unix socket creation</p></td>
<td><p>Backend executes queries to read / from and write to DB</p></td>
</tr>
<tr class="row-odd"><td><p>Backend/Django</p></td>
<td><p>Cache</p></td>
<td><p>TCP Unix socket creation</p></td>
<td><p>Cache storee scheduled tasks that send email notifications</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h3>External Interfaces<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">External Interfaces</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Source</p></th>
<th class="head"><p>Target</p></th>
<th class="head"><p>Protocol / Standard</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>User</p></td>
<td><p>Frontend</p></td>
<td><p>HTTP</p></td>
<td><p>A user can login to INVENT application to add, edit or view the content about Innovation and Technology for Development initiatives</p></td>
</tr>
<tr class="row-odd"><td><p>Superuser</p></td>
<td><p>Frontend</p></td>
<td><p>HTTP</p></td>
<td><p>Superuser executes administration tasks, apart from INVENT application as a user</p></td>
</tr>
<tr class="row-even"><td><p>Backend/Django</p></td>
<td><p>Email Server</p></td>
<td><p>SMTP</p></td>
<td><p>Backend communicates with the email server responsible for sending emails.</p></td>
</tr>
<tr class="row-odd"><td><p>Frontend</p></td>
<td><p>SSO Identity Provider</p></td>
<td><p>OAuth 2.0</p></td>
<td><p>Used to authenticate users</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="component-diagrams">
<h2>Component Diagrams<a class="headerlink" href="#component-diagrams" title="Permalink to this headline">¶</a></h2>
<div class="section" id="backend-component-diagram">
<h3>Backend Component diagram<a class="headerlink" href="#backend-component-diagram" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="id4">
<a class="bg-primary mb-1 reference internal image-reference" href="_images/backend_component_diagram.png"><img alt="system-context-diagram" class="bg-primary mb-1" src="_images/backend_component_diagram.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text"><strong>Backend Component Diagram</strong></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="django-applications">
<h4>Django Applications<a class="headerlink" href="#django-applications" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default" id="django-applications-table">
<caption><span class="caption-text">Django Applications</span><a class="headerlink" href="#django-applications-table" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Django Application</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>core</p></td>
<td><p>Provides general staff for the application</p></td>
</tr>
<tr class="row-odd"><td><p>country</p></td>
<td><p>Provides the countries related functionality</p></td>
</tr>
<tr class="row-even"><td><p>project</p></td>
<td><p>Provides the basic INVENT functionality for Initiatives handling</p></td>
</tr>
<tr class="row-odd"><td><p>scheduler</p></td>
<td><p>Provides the schedule of email sending</p></td>
</tr>
<tr class="row-even"><td><p>search</p></td>
<td><p>INVENT search engine</p></td>
</tr>
<tr class="row-odd"><td><p>user</p></td>
<td><p>Provides the functionality for user profile creation and user actions</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h4>Internal Interfaces<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default" id="backend-internal-interfaces-table">
<caption><span class="caption-text">Backend Internal Interfaces</span><a class="headerlink" href="#backend-internal-interfaces-table" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Source</p></th>
<th class="head"><p>Target</p></th>
<th class="head"><p>Protocol / Standard</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>project</p></td>
<td><p>Database</p></td>
<td><p>TCP Unix socket / port 5432</p></td>
<td><p>Accesses PostgreSQL DB using the engine django.db.backends.postgresql_psycopg2. Queries to add/delete/modify projects in INVENT.</p></td>
</tr>
<tr class="row-odd"><td><p>search</p></td>
<td><p>Database</p></td>
<td><p>TCP unix socket / port 5432</p></td>
<td><p>Accesses PostgreSQL DB using the engine django.db.backends.postgresql_psycopg2. Queries for search execution in INVENT.</p></td>
</tr>
<tr class="row-even"><td><p>user</p></td>
<td><p>Database</p></td>
<td><p>TCP unix socket / port 5432</p></td>
<td><p>Accesses PostgreSQL DB using the engine django.db.backends.postgresql_psycopg2. Queries to add/delete/modify user profiles in INVENT.</p></td>
</tr>
<tr class="row-odd"><td><p>country</p></td>
<td><p>Database</p></td>
<td><p>TCP unix socket / port 5432</p></td>
<td><p>Accesses PostgreSQL DB.Queries to add/delete/modify countries in INVENT.</p></td>
</tr>
<tr class="row-even"><td><p>scheduler</p></td>
<td><p>Cache</p></td>
<td><p>TAccessed with Celery / port 6379</p></td>
<td><p>Redis used as message broker. Connection string configured with BROKER_URL in django/tiip/settings.py</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id6">
<h4>External Interfaces<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default" id="backend-external-interfaces-table">
<caption><span class="caption-text">Backend External Interfaces</span><a class="headerlink" href="#backend-external-interfaces-table" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Source</p></th>
<th class="head"><p>Target</p></th>
<th class="head"><p>Protocol / Standard</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>User</p></td>
<td><p>MS Id Platform</p></td>
<td><p>OAuth 2.0</p></td>
<td><p>Used for the user authentication</p></td>
</tr>
<tr class="row-odd"><td><p>nginx</p></td>
<td><p>letsencrypt</p></td>
<td><p>ACME</p></td>
<td><p>Certification Authority to enable HTTPS. Certbot is a free, open source software tool for automatically using Let’s Encrypt certificates to enable HTTPS</p></td>
</tr>
<tr class="row-even"><td><p>core</p></td>
<td><p>Email Server</p></td>
<td><p>SMTP</p></td>
<td><p>Used to send emails. Configuration found in django/tiip/settings.py</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="frontned-component-diagram">
<h3>Frontned Component diagram<a class="headerlink" href="#frontned-component-diagram" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="frontend-component-diagram">
<a class="bg-primary mb-1 reference internal image-reference" href="_images/frontend_component_diagram.png"><img alt="system-context-diagram" class="bg-primary mb-1" src="_images/frontend_component_diagram.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text"><strong>Frontend Component Diagram</strong></span><a class="headerlink" href="#frontend-component-diagram" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="modules">
<h4>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h4>
<p>Vue.js modules are configured in frontend/package.json and can be modules required during development (devDependencies) or modules which are required at runtime (dependencies).</p>
<div class="section" id="development-dependencies">
<h5>Development dependencies<a class="headerlink" href="#development-dependencies" title="Permalink to this headline">¶</a></h5>
<p>To add a dependency as a devDependency execute the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>npm install --save-dev
</pre></div>
</div>
</div>
<div class="section" id="runtime-dependencies">
<h5>Runtime dependencies<a class="headerlink" href="#runtime-dependencies" title="Permalink to this headline">¶</a></h5>
<p>To add a dependency as dependency execute the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>npm install --save.
</pre></div>
</div>
</div>
</div>
<div class="section" id="scripts">
<h4>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h4>
<p>The following scripts are supported (configured in frontend/package.json):</p>
<table class="docutils align-default" id="frontend-modules-table">
<caption><span class="caption-text">Frontend Scripts</span><a class="headerlink" href="#frontend-modules-table" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>yarn build</p></td>
<td><p>Build and optimize the application with webpack for production</p></td>
</tr>
<tr class="row-odd"><td><p>yarn start</p></td>
<td><p>Start the production server</p></td>
</tr>
<tr class="row-even"><td><p>yarn dev</p></td>
<td><p>The basic command sto start the frontend. Starts nuxt with paratemeters “NODE_OPTIONS=’–max-old-space-size=4096’ HOST=0.0.0.0 nuxt”</p></td>
</tr>
<tr class="row-odd"><td><p>yarn dev:win</p></td>
<td><p>Launch the development server</p></td>
</tr>
<tr class="row-even"><td><p>yarn analyze</p></td>
<td><p>Nuxt use webpack-bundle-analyzer to let bundles visualization</p></td>
</tr>
<tr class="row-odd"><td><p>yarn generate</p></td>
<td><p>Build the application (if needed), generate every route as a HTML file and statically export to dist/ directory (used for static hosting).</p></td>
</tr>
<tr class="row-even"><td><p>yarn lint</p></td>
<td><p>Runs ESLint, a tool for identifying and reporting on patterns found in ECMAScript/JavaScript code. It executes the command “eslint –fix –ext .js,.vue –ignore-path .gitignore .”</p></td>
</tr>
<tr class="row-odd"><td><p>yarn precommit</p></td>
<td><p>Runs lint</p></td>
</tr>
<tr class="row-even"><td><p>yarn precommit:fix</p></td>
<td><p>Runs lint with ‘–fix’ parameter</p></td>
</tr>
<tr class="row-odd"><td><p>yarn test</p></td>
<td><p>Runs jest</p></td>
</tr>
<tr class="row-even"><td><p>yarn test:w</p></td>
<td><p>Runs jest –watch</p></td>
</tr>
<tr class="row-odd"><td><p>yarn translation:extract</p></td>
<td><p>Runs a bash command “bash gettext.sh” to scrape the code and extract translation</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="database-component-diagram">
<h3>Database Component diagram<a class="headerlink" href="#database-component-diagram" title="Permalink to this headline">¶</a></h3>
<p>For the DB physical data model, see <span class="xref std std-ref">supplementary_diagrams</span>).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">UNICEF INVENT</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">ToC</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="purpose.html">Purpose</a></li>
<li class="toctree-l1"><a class="reference internal" href="scope.html">Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="target_audience.html">Target Audience</a></li>
<li class="toctree-l1"><a class="reference internal" href="abb_and_acronyms.html">Abbreviations and Acronyms</a></li>
<li class="toctree-l1"><a class="reference internal" href="scenarios.html">Scenarios</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Core Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="supplementary_diagrams.html">Supplementary Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor_guide.html">Contributor’s Guide</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="scenarios.html" title="previous chapter">Scenarios</a></li>
      <li>Next: <a href="supplementary_diagrams.html" title="next chapter">Supplementary Diagrams</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, -.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/core_diagrams.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>